{"matrices":{"names":["id","a","b","p1","p2","p3","p4","p5","p6","tri","tri2"],"storage":[{"Simple":{"offset":[0.0,0.0,0.0],"scale":1.0,"rotate":[0.0,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,0.0,-3.0],"scale":1.0,"rotate":[0.0,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,0.0,3.0],"scale":1.0,"rotate":[0.0,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,0.0,4.0],"scale":1.0,"rotate":[0.0,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,0.0,-4.0],"scale":1.0,"rotate":[0.0,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,4.0,0.0],"scale":1.0,"rotate":[1.5707964,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,-4.0,0.0],"scale":1.0,"rotate":[1.5707964,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[4.0,0.0,0.0],"scale":1.0,"rotate":[0.0,1.5707964,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[-4.0,0.0,0.0],"scale":1.0,"rotate":[0.0,1.5707964,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,0.0,2.670438],"scale":1.0,"rotate":[1.5707964,0.0,0.0],"mirror":[false,false,false]}},{"Teleport":{"first_portal":"b","second_portal":"a","what":"tri"}}]},"objects":[{"Flat":{"kind":{"Simple":"p1"},"is_inside":"return is_inside_square(x, y, green_M);"}},{"Flat":{"kind":{"Simple":"p2"},"is_inside":"return is_inside_square(x, y, red_M);"}},{"Flat":{"kind":{"Simple":"p3"},"is_inside":"return is_inside_square(x, y, black_M);"}},{"Flat":{"kind":{"Simple":"p4"},"is_inside":"return is_inside_square(x, y, gray_M);"}},{"Flat":{"kind":{"Simple":"p5"},"is_inside":"return is_inside_square(x, y, gray_M);"}},{"Flat":{"kind":{"Simple":"p6"},"is_inside":"return is_inside_square(x, y, black_M);"}},{"Flat":{"kind":{"Simple":"tri"},"is_inside":"if ((a_mat * pos).z > 0.) return NOT_INSIDE;\n\nreturn is_inside_triangle(x, y, 2.0, 0.6, 0.05, black_solid_M, white_solid_M);"}},{"Flat":{"kind":{"Simple":"tri2"},"is_inside":"if ((b_mat * pos).z < 0.) return NOT_INSIDE;\n\nreturn is_inside_triangle(x, y, 2.0, 0.6, 0.05, black_solid_M, white_solid_M);"}},{"Flat":{"kind":{"Portal":["a","b"]},"is_inside":"float pos = x*x + y*y;\nif (pos < 1.) {\n  if (back) {\n    if (first) {\n      return blue_M;\n    } else {\n      return orange_M;\n    }\n  } else {\n    return TELEPORT;\n  }\n} else if (pos < 1.1) {\n  if (first) {\n    return blue_M;\n  } else {\n    return orange_M;\n  }\n} else {\n  return NOT_INSIDE;\n}"}}],"materials":{"names":["black","green","red","gray","black_solid","white_solid","blue","orange"],"storage":[{"Simple":{"color":[0.054903064,0.054903064,0.054903064],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.05888443,0.5238359,0.0796339],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.5669161,0.037726384,0.037726384],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.3473362,0.3473362,0.3473362],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.0,0.0,0.0],"normal_coef":0.5,"grid":false,"grid_scale":4.0,"grid_coef":0.3}},{"Simple":{"color":[0.7032436,0.7032436,0.7032436],"normal_coef":0.5,"grid":false,"grid_scale":4.0,"grid_coef":0.3}},{"Simple":{"color":[0.5,0.19999999,0.19999999],"normal_coef":0.5,"grid":true,"grid_scale":4.0,"grid_coef":0.3}},{"Simple":{"color":[0.5,0.19999999,0.19999999],"normal_coef":0.5,"grid":true,"grid_scale":4.0,"grid_coef":0.3}}]},"library":"int is_inside_square(float x, float y, int material) {\n  if (abs(x) < 4. && abs(y) < 4.) {\n    return material;\n  } else {\n    return NOT_INSIDE;\n  }\n}\n\nint is_inside_triangle(float x, float y, float angle, float width, float border, int inner_m, int border_m) {\n  float value = width - abs(x)*angle;\n  if (y > border && abs(y) < value) {\n    return inner_m;\n  } else if (y > 0. && abs(y) < value + border*angle) {\n    return border_m;\n  } else {\n    return NOT_INSIDE;\n  }\n}"}