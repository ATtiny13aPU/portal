{"description_en":"# Hopf link portal","description_ru":"","cam":{"look_at":[0.0,0.0,0.0],"alpha":-36.146187,"beta":1.4801781,"r":1.7960435,"offset_after_material":0.000025},"uniforms":{"names":["room_size_x","room_size_x_minus","room_size_y","room_size_y_minus","room_size_z","room_size_z_minus"],"storage":[{"Float":{"min":0.0,"max":null,"value":5.0}},{"Formula":"-room_size_x"},{"Float":{"min":0.0,"max":null,"value":3.0}},{"Formula":"-room_size_y"},{"Float":{"min":0.0,"max":null,"value":5.0}},{"Formula":"-room_size_z"}]},"matrices":{"names":["id","room_origin","rx1","rx2","ry1","ry2","rz1","rz2","mrx1","mrx2","mry1","mry2","mrz1","mrz2","blue1","blue2","orange","orange2","orange1"],"storage":[{"Simple":{"offset":[0.0,0.0,0.0],"scale":1.0,"rotate":[0.0,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[0.0,0.0,0.0],"scale":1.0,"rotate":[0.0,0.0,0.0],"mirror":[false,false,false]}},{"Parametrized":{"offset":{"x":{"Yes":"room_size_x"},"y":{"No":0.0},"z":{"No":0.0}},"rotate":{"x":{"No":0.0},"y":{"No":1.5707964},"z":{"No":0.0}},"mirror":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"scale":{"No":1.0}}},{"Parametrized":{"offset":{"x":{"Yes":"room_size_x_minus"},"y":{"No":0.0},"z":{"No":0.0}},"rotate":{"x":{"No":0.0},"y":{"No":1.5707964},"z":{"No":0.0}},"mirror":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"scale":{"No":1.0}}},{"Parametrized":{"offset":{"x":{"No":0.0},"y":{"Yes":"room_size_y"},"z":{"No":0.0}},"rotate":{"x":{"No":1.5707964},"y":{"No":0.0},"z":{"No":0.0}},"mirror":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"scale":{"No":1.0}}},{"Parametrized":{"offset":{"x":{"No":0.0},"y":{"Yes":"room_size_y_minus"},"z":{"No":0.0}},"rotate":{"x":{"No":1.5707964},"y":{"No":0.0},"z":{"No":0.0}},"mirror":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"scale":{"No":1.0}}},{"Parametrized":{"offset":{"x":{"No":0.0},"y":{"No":0.0},"z":{"Yes":"room_size_z"}},"rotate":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"mirror":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"scale":{"No":1.0}}},{"Parametrized":{"offset":{"x":{"No":0.0},"y":{"No":0.0},"z":{"Yes":"room_size_z_minus"}},"rotate":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"mirror":{"x":{"No":0.0},"y":{"No":0.0},"z":{"No":0.0}},"scale":{"No":1.0}}},{"Mul":{"to":"rx1","what":"room_origin"}},{"Mul":{"to":"rx2","what":"room_origin"}},{"Mul":{"to":"ry1","what":"room_origin"}},{"Mul":{"to":"ry2","what":"room_origin"}},{"Mul":{"to":"rz1","what":"room_origin"}},{"Mul":{"to":"rz2","what":"room_origin"}},{"Simple":{"offset":[0.5,0.0,-2.5],"scale":1.0,"rotate":[6.0911994,0.0,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[-2.5,0.0,0.42],"scale":1.0,"rotate":[6.2831855,4.712389,0.0],"mirror":[false,false,false]}},{"Simple":{"offset":[-1.0,0.0,0.0],"scale":1.0,"rotate":[0.38397244,0.0,0.0],"mirror":[false,false,false]}},{"Teleport":{"first_portal":"blue1","second_portal":"blue2","what":"orange1"}},{"Mul":{"to":"orange","what":"blue1"}}]},"objects":{"names":["rx1","rx2","ry1","ry2","rz1","rz2","blue_portal","orange_portal"],"storage":[{"Flat":{"kind":{"Simple":"mrx1"},"is_inside":"return is_inside_square(x, y, room_size_z_u, room_size_y_u, room_yellow_M);"}},{"Flat":{"kind":{"Simple":"mrx2"},"is_inside":"return is_inside_square(x, y, room_size_z_u, room_size_y_u, room_red_M);"}},{"Flat":{"kind":{"Simple":"mry1"},"is_inside":"return is_inside_square(x, y, room_size_x_u, room_size_z_u, room_black_M);"}},{"Flat":{"kind":{"Simple":"mry2"},"is_inside":"return is_inside_square(x, y, room_size_x_u, room_size_z_u, room_gray_M);"}},{"Flat":{"kind":{"Simple":"mrz1"},"is_inside":"return is_inside_square(x, y, room_size_x_u, room_size_y_u, room_blue_M);"}},{"Flat":{"kind":{"Simple":"mrz2"},"is_inside":"return is_inside_square(x, y, room_size_x_u, room_size_y_u, room_green_M);"}},{"Flat":{"kind":{"Portal":["blue1","blue2"]},"is_inside":"if (x*x + y*y < 1.) {\n  return TELEPORT;\n} else if (x*x + y*y < 1.3) {\n  return portal_blue_M;\n} else {\n  return NOT_INSIDE;\n}"}},{"Flat":{"kind":{"Portal":["orange1","orange2"]},"is_inside":"if (x*x + y*y < 1.) {\n  return TELEPORT;\n} else if (x*x + y*y < 1.3) {\n  return portal_orange_M;\n} else {\n  return NOT_INSIDE;\n}"}}]},"textures":{"names":[],"storage":[]},"materials":{"names":["room_green","room_red","room_gray","room_black","room_blue","room_yellow","portal_orange","portal_blue"],"storage":[{"Simple":{"color":[0.15478948,0.73873776,0.2186588],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.8458183,0.07454156,0.07454156],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.18068509,0.18068509,0.18068509],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.029196177,0.029196177,0.029196177],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Simple":{"color":[0.116810285,0.26798066,0.9083436],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.2}},{"Simple":{"color":[0.7647179,0.7024815,0.061205085],"normal_coef":0.5,"grid":true,"grid_scale":1.0,"grid_coef":0.3}},{"Complex":{"code":"MaterialProcessing result = material_simple(hit, r, vec3(0.6495146,0.2954198,0.03270938), 5e-1, false, 4e0, 3e-1);\nreturn result;"}},{"Complex":{"code":"MaterialProcessing result = material_simple(hit, r, vec3(0.04732297,0.560074,0.68341726), 5e-1, false, 4e0, 3e-1);\nreturn result;"}}]},"library":{"names":["room"],"storage":["int is_inside_square(float x, float y, float sizex, float sizey, int material) {\n  if (abs(x) < sizex && abs(y) < sizey) {\n    return material;\n  } else {\n    return NOT_INSIDE;\n  }\n}\n"]},"user_uniforms":{"uniforms":[false,false,false,false,false,false],"matrices":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,false,false]},"animation_stages":{"names":[],"storage":[]},"current_stage":5}